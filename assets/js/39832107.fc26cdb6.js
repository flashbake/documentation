"use strict";(self.webpackChunkflashbake_doc=self.webpackChunkflashbake_doc||[]).push([[780],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return h}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=s(n),h=o,f=d["".concat(p,".").concat(h)]||d[h]||c[h]||a;return n?r.createElement(f,i(i({ref:t},u),{},{components:n})):r.createElement(f,i({ref:t},u))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var s=2;s<a;s++)i[s]=n[s];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},2934:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return p},default:function(){return h},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return c}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),i=["components"],l={},p="Flashbake Endpoint",s={unversionedId:"flashbake-endpoint",id:"flashbake-endpoint",title:"Flashbake Endpoint",description:"Every Flashbaker must expose an HTTP endpoint to receive bundles from the relay. The purpose of the Flashbake Endpoint software is to listen to this endpoint, run an auction, then submit the winning bundle to the baker.",source:"@site/docs/flashbake-endpoint.md",sourceDirName:".",slug:"/flashbake-endpoint",permalink:"/docs/flashbake-endpoint",draft:!1,editUrl:"https://github.com/flashbake/docs/flashbake-endpoint.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Flashbake",permalink:"/docs/intro"},next:{title:"Flashbake Registry",permalink:"/docs/flashbake-registry"}},u={},c=[{value:"Endpoint operation",id:"endpoint-operation",level:2},{value:"How to run the Flashbake Endpoint",id:"how-to-run-the-flashbake-endpoint",level:2},{value:"Install it with NPM",id:"install-it-with-npm",level:3},{value:"Install it with docker",id:"install-it-with-docker",level:3}],d={toc:c};function h(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"flashbake-endpoint"},"Flashbake Endpoint"),(0,a.kt)("p",null,"Every Flashbaker must expose an HTTP endpoint to receive bundles from the relay. The purpose of the Flashbake Endpoint software is to listen to this endpoint, run an auction, then submit the winning bundle to the baker."),(0,a.kt)("h2",{id:"endpoint-operation"},"Endpoint operation"),(0,a.kt)("p",null,"The endpoint listens to 2 http endpoints:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"the bundle endpoint. This is the endpoint advertised in the registry."),(0,a.kt)("li",{parentName:"ul"},"the baker endpoint. When the baker prepares for baking a block, it queries the external mempool specified with the ",(0,a.kt)("inlineCode",{parentName:"li"},"--operations-pool")," argument.")),(0,a.kt)("p",null,"The Flashbake endpoint may receive several bundles for inclusion from potentially several relays. When receiving a mempool query from the baker, the endpoint performs an ",(0,a.kt)("strong",{parentName:"p"},"auction"),": the transaction with the highest fee gets included."),(0,a.kt)("p",null,"The other transactions get discarded."),(0,a.kt)("h2",{id:"how-to-run-the-flashbake-endpoint"},"How to run the Flashbake Endpoint"),(0,a.kt)("h3",{id:"install-it-with-npm"},"Install it with NPM"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"npm install @flashbake/endpoint\n")),(0,a.kt)("p",null,"Then run it:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"flashbake-endpoint start --node_rpc_endpoint http://localhost:8732\n")),(0,a.kt)("h3",{id:"install-it-with-docker"},"Install it with docker"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"docker run ghcr.io/flashbake/relay:latest --node_rpc_endpoint http://localhost:8732\n")))}h.isMDXComponent=!0}}]);